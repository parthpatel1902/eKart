<html>
  <%- include('../../partials/admin_navbar.ejs') %>

  <main id="main" class="main">

    <div class="pagetitle">
      <h1>Admin Profile</h1>
    </div><!-- End Page Title -->

    <section class="section dashboard">
      <div class="row">
            <div class="col-lg-12">
                <center>
                    <div id="root">

                    </div>
                </center>
            </div>
      </div>
    </section>

  </main><!-- End #main -->
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/chart.js/chart.umd.js"></script>
  <script src="assets/vendor/echarts/echarts.min.js"></script>
  <script src="assets/vendor/quill/quill.min.js"></script>
  <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
  <script src="assets/vendor/tinymce/tinymce.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>


  <script>
         $(document).ready(async()=>{

                const token = localStorage.getItem("token");

                try {
                    const response = await fetch('/getdetils', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${token}`
                        },
                    });

                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }

                    const data = await response.json();

                    const profile = `<h1 class='text-center text-light p-1 rounded' style="background-color: #0e2238;">Admin Profile</h1>
                        <div class='col-md-12 mt-3'>
                            <center>
                                <div class="card animate__animated animate__flipInY" style="width: 20rem;">
                                    <img src="${data.profile_photo}" class="card-img-top" alt="...">
                                    <div class="card-body">
                                    <h4 class='mt-3'>Name : - &nbsp;<span class='text-ptimary'>${data.name}</span></h4><hr>
                                    <h4>Email : - &nbsp;<span class='text-ptimary'>${data.email}</span></h4>
                                    </div>
                                </div>
                            </center>
                        <div>
                    `;
                    $("#root").html(profile);
            } catch (error) {
                console.error('There was a problem with the fetch adminDetails:', error);
            }
        });
  </script>



</body>
</html>
